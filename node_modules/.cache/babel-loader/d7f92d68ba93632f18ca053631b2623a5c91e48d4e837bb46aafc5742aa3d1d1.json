{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hardiknasa/Desktop/netflix/movies/dating/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/hardiknasa/Desktop/netflix/movies/dating/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/hardiknasa/Desktop/netflix/movies/dating/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/hardiknasa/Desktop/netflix/movies/dating/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/hardiknasa/Desktop/netflix/movies/dating/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/hardiknasa/Desktop/netflix/movies/dating/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/hardiknasa/Desktop/netflix/movies/dating/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import axios from'axios';import{movies}from'./Getmovies';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Movies=/*#__PURE__*/function(_Component){_inherits(Movies,_Component);var _super=_createSuper(Movies);function Movies(){var _this;_classCallCheck(this,Movies);_this=_super.call(this);_this.changeMovies=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.themoviedb.org/3/movie/popular?api_key=5540e483a20e0b20354dabc2d66a31c9&language=en-US&page=\".concat(_this.state.currPage));case 2:res=_context.sent;data=res.data;_this.setState({movies:_toConsumableArray(data.results)});case 5:case\"end\":return _context.stop();}},_callee);}));_this.handleRight=function(){var temparr=[];for(var i=1;i<=_this.state.parr.length+1;i++){temparr.push(i);}_this.setState({parr:[].concat(temparr),currPage:_this.state.currPage+1},_this.changeMovies);};_this.handleLeft=function(){if(_this.state.currPage>1){_this.setState({currPage:_this.state.currPage-1},_this.changeMovies);}};_this.handleclick=function(value){if(value!=_this.state.currPage){_this.setState({currPage:value},_this.changeMovies);}};_this.handleFavourites=function(movie){var oldData=JSON.parse(localStorage.getItem(\"movies-app\")||\"[]\");if(_this.state.favourites.includes(movie.id)){oldData=oldData.filter(function(m){return m.id!=movie.id;});}else{oldData.push(movie);}localStorage.setItem(\"movies-app\",JSON.stringify(oldData));console.log(oldData);_this.handleFavouritesstate();};_this.handleFavouritesstate=function(){var oldData=JSON.parse(localStorage.getItem(\"movies-app\")||\"[]\");var temp=oldData.map(function(movie){return movie.id;});_this.setState({favourites:_toConsumableArray(temp)});};_this.state={hover:'',parr:[1],currPage:1,movies:[],favourites:[]};return _this;}_createClass(Movies,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"https://api.themoviedb.org/3/movie/popular?api_key=5540e483a20e0b20354dabc2d66a31c9&language=en-US&page=\".concat(this.state.currPage));case 2:res=_context2.sent;data=res.data;this.setState({movies:_toConsumableArray(data.results)});case 5:case\"end\":return _context2.stop();}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(_Fragment,{children:this.state.movies.length==0?/*#__PURE__*/_jsx(\"div\",{class:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{class:\"visually-hidden\",children:\"Loading...\"})}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Trending\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"movies-list\",children:this.state.movies.map(function(movieobj){return/*#__PURE__*/_jsxs(\"div\",{className:\"card movies-card\",onMouseEnter:function onMouseEnter(){return _this2.setState({hover:movieobj.id});},children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/original\".concat(movieobj.backdrop_path),alt:movieobj.title,className:\"card-img-top movies-img\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"card-title movies-title\",children:movieobj.original_title}),/*#__PURE__*/_jsx(\"div\",{className:\"button-wrapper\",style:{display:\"flex\",justifyContent:\"center\",width:\"100%\"},children:_this2.state.hover==movieobj.id&&/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-primary movies-button\",onClick:function onClick(){return _this2.handleFavourites(movieobj);},children:_this2.state.favourites.includes(movieobj.id)?\"Remove from favourites\":\"Add To Favourites\"})})]});})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Page navigation example\",children:/*#__PURE__*/_jsxs(\"ul\",{class:\"pagination\",children:[/*#__PURE__*/_jsx(\"li\",{class:\"page-item\",children:/*#__PURE__*/_jsx(\"a\",{class:\"page-link\",onClick:this.handleLeft,children:\"Previous\"})}),this.state.parr.map(function(value){return/*#__PURE__*/_jsx(\"li\",{class:\"page-item\",children:/*#__PURE__*/_jsx(\"a\",{class:\"page-link\",onClick:function onClick(){return _this2.handleclick(value);},children:value})});}),/*#__PURE__*/_jsx(\"li\",{class:\"page-item\",children:/*#__PURE__*/_jsx(\"a\",{class:\"page-link\",onClick:this.handleRight,children:\"Next\"})})]})})})]})});}}]);return Movies;}(Component);export{Movies as default};","map":{"version":3,"names":["React","Component","axios","movies","Movies","changeMovies","get","state","currPage","res","data","setState","results","handleRight","temparr","i","parr","length","push","handleLeft","handleclick","value","handleFavourites","movie","oldData","JSON","parse","localStorage","getItem","favourites","includes","id","filter","m","setItem","stringify","console","log","handleFavouritesstate","temp","map","hover","movieobj","backdrop_path","title","original_title","display","justifyContent","width"],"sources":["/Users/hardiknasa/Desktop/netflix/movies/dating/src/components/Movies.js"],"sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport { movies } from './Getmovies';\nexport default class Movies extends Component \n{\n    constructor()\n    {\n        super();\n        this.state=\n        {\n            hover:'',\n            parr:[1],\n            currPage:1,\n            movies:[],\n            favourites:[]\n        }\n    }\n    async componentDidMount()\n    {\n        const res = await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=5540e483a20e0b20354dabc2d66a31c9&language=en-US&page=${this.state.currPage}`);\n        let data = res.data\n\n        this.setState({\n            movies:[...data.results]\n        })\n    }\n changeMovies=async()=>\n    {\n        const res = await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=5540e483a20e0b20354dabc2d66a31c9&language=en-US&page=${this.state.currPage}`);\n        let data = res.data\n\n        this.setState({\n            movies:[...data.results]\n        })\n    }\n    handleRight=()=>\n    {\n        let temparr=[]\n        for(let i=1;i<=this.state.parr.length+1;i++)\n        {\n           temparr.push(i);\n        }\n        this.setState(\n            {\n                parr:[...temparr],\n                currPage:this.state.currPage+1\n            },this.changeMovies)\n        \n    }\n    handleLeft=()=>\n    {\n       if(this.state.currPage>1)\n       {\n        this.setState(\n            {\n                currPage:this.state.currPage-1\n\n            }\n            ,this.changeMovies)}\n\n    }\n    handleclick=(value)=>\n    {\n     if(value!=this.state.currPage)\n     {\n        this.setState(\n            {\n                currPage:value,\n            },this.changeMovies)\n        }\n\n    }\n    handleFavourites=(movie)=>\n    {\n        let oldData = JSON.parse(localStorage.getItem(\"movies-app\") || \"[]\")\n        if(this.state.favourites.includes(movie.id)){\n            oldData = oldData.filter((m)=>m.id!=movie.id)\n        }else{\n            oldData.push(movie)\n        }\n        localStorage.setItem(\"movies-app\",JSON.stringify(oldData));\n        console.log(oldData);\n       this.handleFavouritesstate();\n      \n    }\n    handleFavouritesstate=()=>\n    {\n        let oldData = JSON.parse(localStorage.getItem(\"movies-app\") || \"[]\")\n          let temp=oldData.map((movie)=>movie.id)\n        this.setState({\n          favourites:[...temp]\n    })\n\n\n    }\n \n  render() \n  {\n    return (\n     <>\n     {\n         this.state.movies.length==0?\n         <div class=\"spinner-border text-primary\" role=\"status\">\n                        <span class=\"visually-hidden\">Loading...</span>\n                    </div>:\n         <div>\n           <h3 className=\"text-center\"><strong>Trending</strong></h3>\n           <div className='movies-list'>\n            {\n\n            this.state.movies.map((movieobj)=>(\n            <div className=\"card movies-card\" onMouseEnter={()=>this.setState({hover:movieobj.id})}>\n            <img src={`https://image.tmdb.org/t/p/original${movieobj.backdrop_path}`} alt={movieobj.title} className=\"card-img-top movies-img\"/>\n            {/* <div className=\"card-body\"> */}\n            <h5 className=\"card-title movies-title\">{movieobj.original_title}</h5>\n            {/* <p className=\"card-text movies-text\">{movieobj.overview}</p> */}\n            <div className=\"button-wrapper\" style={{display:\"flex\",justifyContent:\"center\",width:\"100%\"}}>\n            {\n                this.state.hover==movieobj.id&& \n                <a className=\"btn btn-primary movies-button\" onClick={()=>this.handleFavourites(movieobj)}>{this.state.favourites.includes(movieobj.id)?\"Remove from favourites\":\"Add To Favourites\"}</a>    \n            }    \n           \n            </div>\n            </div>\n                ))\n            }\n           </div>\n           <div style={{display:'flex',justifyContent:'center'}}>\n            <nav aria-label=\"Page navigation example\">\n            <ul class=\"pagination\">\n            <li class=\"page-item\"><a class=\"page-link\" onClick={this.handleLeft}>Previous</a></li>  \n\n            \n                {\n                    this.state.parr.map((value)=>(\n                        <li class=\"page-item\"><a class=\"page-link\"onClick={()=>this.handleclick(value)} >{value}</a></li>  \n                    ))\n                }\n            \n\n            <li class=\"page-item\"><a class=\"page-link\" onClick={this.handleRight}>Next</a></li>\n            </ul>\n            </nav>\n            </div>\n            </div>\n\n     }\n     </>\n    )\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}